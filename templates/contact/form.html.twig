{#
    Contact Form Template
    
    Override this template by creating:
    templates/bundles/ContactUsBundle/contact/form.html.twig
    
    Or configure a different base template via:
    contact_us.templates.base: 'base.html.twig'
#}
{% extends contact_us_config.templates.base|default('@ContactUs/base.html.twig') %}

{% block title %}{{ 'contact.title'|contact_trans }}{% endblock %}

{% block contact_body %}
<div class="contact-form-container">
    <div class="contact-form-header">
        <h1>{{ 'contact.title'|contact_trans }}</h1>
        <p>{{ 'contact.description'|contact_trans }}</p>
    </div>

    {% for message in app.flashes('contact_success') %}
        <div class="alert alert-success" role="alert">
            {{ message|contact_trans }}
        </div>
    {% endfor %}

    {% for message in app.flashes('contact_error') %}
        <div class="alert alert-danger" role="alert">
            {{ message }}
        </div>
    {% endfor %}

    {{ form_start(form, {'attr': {'class': 'contact-form', 'novalidate': 'novalidate', 'data-controller': 'contact'}}) }}
        {% if form._form_token_time is defined and not form._form_token_time.rendered %}
            {{ form_widget(form._form_token_time, {'type': 'hidden', 'attr': {'class': 'contact-timing-token', 'style': 'display:none'}}) }}
        {% endif %}

        <div class="contact-form-fields">
            {% for field in form %}
                {% if field.vars.name not in ['_token', 'email_confirm', '_form_token_time'] %}
                    <div class="contact-form-field">
                        {{ form_label(field, field.vars.label|contact_trans) }}
                        {{ form_widget(field, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(field) }}
                    </div>
                {% endif %}
            {% endfor %}

            {# Hidden honeypot field #}
            <div class="contact-honeypot" aria-hidden="true">
                {{ form_row(form.email_confirm, {
                    'label': false,
                    'attr': {
                        'tabindex': '-1',
                        'autocomplete': 'off'
                    }
                }) }}
            </div>
        </div>

        <div class="contact-form-submit">
            <button type="submit" class="btn btn-primary" data-contact-target="submit" data-loading-text="{{ 'contact.submit_loading'|contact_trans }}">
                {{ 'contact.submit'|contact_trans }}
            </button>
        </div>

        {{ form_row(form._token) }}
    {{ form_end(form, {'render_rest': false}) }}
</div>
{% endblock %}
